[
  {
    "label": "OpenAPS",
    "menu": [
      {
        "label": "Set Temp Target",
        "menu": [
            {
                "label": "Cancel temp targets",
                "command": "cd ~/myopenaps && PATH=$PATH:/opt/nodejs/bin/ oref0-append-local-temptarget 0 0 | head -1 | jq . | fold -w 23 -s",
                "emit": "showoutput"
            },
            {
                "label": "Eating Soon: 60m@80",
                "command": "cd ~/myopenaps && PATH=$PATH:/opt/nodejs/bin/ oref0-append-local-temptarget 80 60 | head -1 | jq . | fold -w 23 -s | head -8",
                "emit": "showoutput"
            },
            {
                "label": "SMB Nudge: 90m@98",
                "command": "cd ~/myopenaps && PATH=$PATH:/opt/nodejs/bin/ oref0-append-local-temptarget 98 90 | head -1 | jq . | fold -w 23 -s | head -8",
                "emit": "showoutput"
            },
            {
                "label": "Walking: 45m@120",
                "command": "cd ~/myopenaps && PATH=$PATH:/opt/nodejs/bin/ oref0-append-local-temptarget 120 45 | head -1 | jq . | fold -w 23 -s | head -8",
                "emit": "showoutput"
            },
            {
                "label": "Running: 60m@140",
                "command": "cd ~/myopenaps && PATH=$PATH:/opt/nodejs/bin/ oref0-append-local-temptarget 140 60 | head -1 | jq . | fold -w 23 -s | head -8",
                "emit": "showoutput"
            }
        ]
      },
      {
        "label": "Status",
        "command": "./scripts/getstatus.sh",
        "emit": "showoutput"
      },
      {
        "label": "Enacted Reason",
        "command": "cat ~/myopenaps/enact/enacted.json | jq .reason | fold -w 23",
        "emit": "showoutput"
      },
      {
        "label": "Show pump-loop.log",
        "command": "cat /var/log/openaps/pump-loop.log | fold -w 23 -s | grep -av '.......................' | tail -8",
        "emit": "showoutput"
      },
      {
        "label": "Unicorn",
        "command": "cat static/unicorn.txt",
        "emit": "showoutput"
      }
    ]
  },
  {
    "label": "Wifi",
    "menu": [
      {
        "label": "Current IP Addrs",
        "command": "./scripts/getip.sh",
        "emit": "showoutput"
      },
      {
        "label": "BT Connect",
        "command": "sudo bt-pan client AC:37:43:BF:E1:7C && echo 'Pixel Connected'",
        "emit": "showoutput"
      },
      {
        "label": "Current Wifi Network",
        "command": "./scripts/getwifi.sh",
        "emit": "showoutput"
      },
      {
        "label": "Current Hostname",
        "command": "./scripts/gethostname.sh",
        "emit": "showoutput"
      },
      {
        "label": "Show network.log",
        "command": "cat /var/log/openaps/network.log | fold -w 23 -s | tail -8",
        "emit": "showoutput"
      },
      {
        "label": "Select Open Wifi Net",
        "options": "./scripts/list_open_wifi.sh",
        "selectScript": "./scripts/add_open_wifi.sh",
        "selectEmit": "showoutput"
      }
    ]
  },
  {
    "label": "System",
    "menu": [
        {
            "label": "Voltage",
            "emit": "showvoltage"
        },
        {
            "label": "Cancel Reboot",
            "command": "shutdown -c; echo Reboot canceled",
            "emit": "showoutput"
        },
        {
            "label": "Reboot",
            "command": "echo Rebooting in; echo 1 minute; shutdown -r",
            "emit": "showoutput"
        },
        {
            "label": "Shutdown Now",
            "command": "echo Rebooting in; echo 1 minute; shutdown -h now",
            "emit": "showoutput"
        }
    ]
  }
]
